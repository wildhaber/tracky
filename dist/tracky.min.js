/**
 * tracky.js - a helper module streamlining user interaction into css-classes
 * @version 1.0.0
 * @author Copyright (c) Raphael Wildhaber < https://github.com/wildhaber >
 * @url https://github.com/wildhaber/tracky#readme
 * @license MIT
 */
!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1)},function(e,t,n){(function(t){e.exports=t.Tracky=n(2)}).call(t,function(){return this}())},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=n(3),a=s(l),u=n(4),c=s(u),f=n(6),d=s(f),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"body":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),this.registerSelectors(t,!0),this._options=(0,d["default"])(a["default"],n),this._nodes=[],this._listeners=[{"class":c["default"],key:"scroll"}],this._bindListeners(),this._startGlobalWatcher()}return o(e,[{key:"registerSelectors",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return e=this._cleanupSelector(e),this._selectors=this._selectors&&!t?this._selectors:[],e instanceof Array?this._selectors=this._selectors.concat(e):"string"==typeof e&&this._selectors.push(e),this._selectors=[].concat(i(new Set(this._selectors))),this._handleNodeChanges(),this._selectors}},{key:"addSelector",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return e&&this.registerSelectors(e),this}},{key:"removeSelector",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return t&&!function(){var n=t instanceof Array?t:[t],s=0;e._selectors=e._selectors.filter(function(e){var t=n.indexOf(e)>-1;return t&&s++,!t}),s>0&&e._handleNodeChanges()}(),this}},{key:"refreshNodes",value:function(){return this._nodes=this._selectors.map(function(e){return"undefined"!=typeof document&&"undefined"!=typeof document.querySelectorAll?document.querySelectorAll(e):null}),this._nodes}},{key:"getNodesCount",value:function(){var e=0;if("undefined"!=typeof this._nodes&&this._nodes.length>0)for(var t=this._nodes.length;t;t--)e+=this._nodes[t-1].length;return e}},{key:"_cleanupSelector",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=e instanceof Array?e:[e];return t.filter(function(e){return"string"==typeof e&&!!e&&"-"!==e.charAt(0)})}},{key:"_getEventsOptions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return e?"undefined"!=typeof this._options.events[e]?this._options.events[e]:void 0:{}}},{key:"_bindListeners",value:function(){var e=this;"undefined"!=typeof this._listeners&&this._listeners&&this._listeners.length&&this._listeners.forEach(function(t){var n=e._getEventsOptions(t.key);"undefined"!=typeof n.enable&&n.enable===!0&&(t.instance=new t["class"](t.key,e,n,e._options))})}},{key:"_flattenNodes",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=[],n=e||("undefined"!=typeof this._nodes&&this._nodes?this._nodes:[]);return n.forEach(function(e){e&&e.length&&e.forEach(function(e){t.indexOf(e)===-1&&t.push(e)})}),t}},{key:"findNodeDiff",value:function(e,t){var n=Object.freeze(this._flattenNodes(e)),s=Object.freeze(this._flattenNodes(t)),i=s.filter(function(e){return n.indexOf(e)===-1}),r=n.filter(function(e){return s.indexOf(e)===-1});return{added:i,removed:r,changes:i.length+r.length}}},{key:"getNodesFingerprint",value:function(){var e="";return"undefined"!=typeof this._nodes&&this._nodes.forEach(function(t){e+=t.length}),e}},{key:"_handleNodeChanges",value:function(){var e=Object.freeze(this._nodes);this.refreshNodes();var t=Object.freeze(this._nodes),n=this.findNodeDiff(e,t);n.changes>0&&"undefined"!=typeof this._listeners&&this._listeners&&this._listeners.length&&this._listeners.forEach(function(e){"undefined"!=typeof e.instance&&(n.added.length&&e.instance.add(n.added),n.removed.length&&e.instance.remove(n.removed))})}},{key:"_startGlobalWatcher",value:function(){var e=this;if("undefined"!=typeof MutationObserver){var t=new MutationObserver(function(t){t.forEach(function(t){"undefined"!=typeof t.addedNodes&&t.addedNodes&&t.addedNodes.length>0&&e._handleNodeChanges()})}),n={childList:!0},s=document.body;t.observe(s,n)}}},{key:"disable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t="string"==typeof e?[e]:e;"undefined"!=typeof this._listeners&&this._listeners&&this._listeners.length&&this._listeners.forEach(function(e){(t&&t.indexOf(e.key)>-1||!t)&&"undefined"!=typeof e.instance&&e.instance.disable()})}},{key:"enable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t="string"==typeof e?[e]:e;"undefined"!=typeof this._listeners&&this._listeners&&this._listeners.length&&this._listeners.forEach(function(e){(t&&t.indexOf(e.key)>-1||!t)&&"undefined"!=typeof e.instance&&e.instance.enable()})}}]),e}();t["default"]=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={classPrefix:"tracky-",classSuffix:"",classGtPrefix:"gt-",classLtPrefix:"lt-",classEqPrefix:"eq-",classBtPrefix:"bt-",events:{scroll:{enable:!0,breakpoints:[]}}}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=n(5),u=s(a),c=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"_listener",value:function(e){var t=this._getScrollPosition(e);this.classify(e,{absolute:t.absolute.top,percent:t.percent.top})}},{key:"bindEvent",value:function(e){e.addEventListener("scroll",this._bindListener),this._listener(e)}},{key:"_percentRound",value:function(e){return parseInt(100*parseFloat(e.toFixed(2)),10)}},{key:"_getScrollPosition",value:function(e){if(this._isBody(e)){var t=document.documentElement,n=document.body;return{absolute:{top:t.scrollTop||n.scrollTop,left:t.scrollLeft||n.scrollLeft},percent:{top:this._percentRound(t.scrollTop||n.scrollTop/((t.scrollHeight||n.scrollHeight)-t.clientHeight)),left:this._percentRound(t.scrollLeft||n.scrollLeft?t.scrollLeft||n.scrollLeft/((t.scrollWidth||n.scrollWidth)-t.clientWidth):0)}}}return{absolute:{top:e.scrollTop,left:e.scrollLeft},percent:{top:this._percentRound(e.scrollTop/(e.scrollHeight-e.offsetHeight)),left:this._percentRound(e.scrollLeft?e.scrollLeft/(e.scrollWidth-e.offsetWidth):0)}}}},{key:"bindBodyEvent",value:function(){window.addEventListener("scroll",this._bindBodyListener),this._listener(document.body)}},{key:"unbindBodyEvent",value:function(){window.removeEventListener("scroll",this._bindBodyListener)}},{key:"unbindEvent",value:function(e){e.removeEventListener("scroll",this._bindListener)}},{key:"_isBody",value:function(e){return"BODY"===e.nodeName}},{key:"bindEvents",value:function(){var e=this;this.getNodes().forEach(function(t){t&&t.forEach(function(t){e._isBody(t)?e.bindBodyEvent():e.bindEvent(t)})})}},{key:"unbindEvents",value:function(){var e=this;this.getNodes().forEach(function(t){t&&t.forEach(function(t){e._isBody(t)?(e.unbindBodyEvent(),e.cleanupClasses(document.body)):(e.unbindEvent(t),e.cleanupClasses(t))})})}},{key:"onStart",value:function(){var e=this;this._bindListener=function(t){e._listener(t.target)};var t=0,n=!1;this._bindBodyListener=function(s){t=window.scrollY,n||window.requestAnimationFrame(function(){e._listener(s.target.activeElement),n=!1}),n=!0},this.bindEvents()}},{key:"onStop",value:function(){this.unbindEvents()}},{key:"onAdd",value:function(e){var t=this;e.forEach(function(e){t._isBody(e)?t.bindBodyEvent():t.bindEvent(e)})}},{key:"onRemove",value:function(e){var t=this;e.forEach(function(e){t._isBody(e)?t.unbindBodyEvent():t.unbindEvent(e)})}},{key:"_buildClassName",value:function(e,t){var n=this._globalOptions;return n.classPrefix+this._key+"-"+t+e+n.classSuffix}},{key:"_transformValue",value:function(e){var t=null;return t="number"==typeof e?[e,{percent:!1}]:"string"==typeof e?e.indexOf("%")==e.length-1?[parseInt(e,10),{percent:!0}]:null:e}},{key:"_transformBreakpoints",value:function(e){var t=this;return e.map(function(e){var n=t._globalOptions,s="number"==typeof e||"string"==typeof e?{value:e}:e,i="undefined"!=typeof s.min&&"undefined"!=typeof s.max&&("undefined"==typeof s.applyBt||s.applyBt),r=!i&&"undefined"!=typeof s.value,o="undefined"!=typeof s.css&&!!s.css;return o&&"string"==typeof s.css&&(s.css={eq:s.css,bt:s.css}),r?s.value=t._transformValue(s.value):i&&(s.min=t._transformValue(s.min),s.max=t._transformValue(s.max)),{css:{lt:i?null:o&&"undefined"!=typeof s.css.lt?s.css.lt:t._buildClassName(s.value[0]+(s.value[1].percent?"pc":""),n.classLtPrefix),gt:i?null:o&&"undefined"!=typeof s.css.gt?s.css.gt:t._buildClassName(s.value[0]+(s.value[1].percent?"pc":""),n.classGtPrefix),eq:i?null:o&&"undefined"!=typeof s.css.eq?s.css.eq:t._buildClassName(s.value[0]+(s.value[1].percent?"pc":""),n.classEqPrefix),bt:i?o&&"undefined"!=typeof s.css.bt?s.css.bt:t._buildClassName(s.min[0]+(s.min[1].percent?"pc":"")+"-"+s.max[0]+(s.max[1].percent?"pc":""),n.classBtPrefix):null},applyLt:i||"undefined"==typeof s.applyLt?!i:s.applyLt,applyGt:i||"undefined"==typeof s.applyGt?!i:s.applyGt,applyEq:i||"undefined"==typeof s.applyEq?!i:s.applyEq,applyBt:i,value:r?s.value:null,min:i?s.min:null,max:i?s.max:null}})}},{key:"_extractClasses",value:function(){var e=this._options.breakpoints,t=[];return e.forEach(function(e){for(var n in e.css)e.css[n]&&t.push(e.css[n])}),t}},{key:"classify",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{absolute:0,percent:0}:arguments[1],n=this._options.breakpoints,s=[];if(n.length>0)for(var i=n.length;i;i--){var r=n[i-1];r.applyLt&&(!r.value[1].percent&&t.absolute<r.value[0]||r.value[1].percent&&t.percent<r.value[0])&&s.push(r.css.lt),r.applyGt&&(!r.value[1].percent&&t.absolute>r.value[0]||r.value[1].percent&&t.percent>r.value[0])&&s.push(r.css.gt),r.applyEq&&(!r.value[1].percent&&t.absolute===r.value[0]||r.value[1].percent&&t.percent===r.value[0])&&s.push(r.css.eq),r.applyBt&&(!r.min[1].percent&&t.absolute>=r.min[0]||r.min[1].percent&&t.percent>=r.min[0])&&(!r.max[1].percent&&t.absolute<=r.max[0]||r.max[1].percent&&t.percent<=r.max[0])&&s.push(r.css.bt)}this.attachClasses(e,s)}}]),t}(u["default"]);t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=function(){function e(t){var s=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];n(this,e),this._key=t,this._tracky=s,this._options=i,this._globalOptions=r,this._enabled=i.enable,this._options.breakpoints=this._transformBreakpoints(i.breakpoints),this._classNames=this._extractClasses(),this.start()}return s(e,[{key:"getNodes",value:function(){return this._tracky&&"undefined"!=typeof this._tracky._nodes?this._tracky._nodes:[]}},{key:"start",value:function(){this._enabled&&this.onStart()}},{key:"stop",value:function(){this._enabled&&this.onStop()}},{key:"add",value:function(e){this._enabled&&this.onAdd(e)}},{key:"remove",value:function(e){this._enabled&&this.onRemove(e)}},{key:"enable",value:function(){this._enabled=!0,this.start()}},{key:"disable",value:function(){this.stop(),this._enabled=!1}},{key:"attachClasses",value:function(e,t){var n=this._classNames,s=e.className;e.classList&&!function(){var i=s.replace(/\s+/g," ").split(" ").filter(function(e){return n.indexOf(e)>-1}),r=i.filter(function(e){return t.indexOf(e)===-1}),o=t.filter(function(e){return i.indexOf(e)===-1});if(r.length)for(var l=r.length;l;l--)e.classList.remove(r[l-1]);if(o.length)for(var a=o.length;a;a--)e.classList.add(o[a-1])}()}},{key:"cleanupClasses",value:function(e){var t=this._classNames;if(e.classList&&t.length)for(var n=t.length;n;n--)e.classList.remove(t[n-1])}}]),e}();t["default"]=i},function(e,t,n){"use strict";function s(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function i(e,t,n){var s=t[n];if(void 0!==s&&null!==s){if(l.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");l.call(e,n)&&o(s)?e[n]=r(Object(e[n]),t[n]):e[n]=s}}function r(e,t){if(e===t)return e;t=Object(t);for(var n in t)l.call(t,n)&&i(e,t,n);if(Object.getOwnPropertySymbols)for(var s=Object.getOwnPropertySymbols(t),r=0;r<s.length;r++)a.call(t,s[r])&&i(e,t,s[r]);return e}var o=n(7),l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(e){e=s(e);for(var t=1;t<arguments.length;t++)r(e,arguments[t]);return e}},function(e,t){"use strict";e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}}]);
//# sourceMappingURL=tracky.min.js.map